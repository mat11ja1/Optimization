In the line search we chose the stopping criterion which had two aspects. Firstly, the difference between the functional values on the endpoints of the interval need to be within the tolerance range. Secondly, the difference between the center of the interval and the average value of the endpoints needs to be within the interval. See below for the stopping function
$$ while\; abs(f(a)-f(b)) > tol\; \&\&\;abs(f((a+b)/2)-(f(a)+f(b))/2) > tol$$

The stopping criterion used in the outer loop is instead to stop when either the difference between the found points are within the tolerance region or the difference between the functional values for subsequent points is small enough.