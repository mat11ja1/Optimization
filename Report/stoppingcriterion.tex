\subsection{Line search}
In the line search we chose the stopping criterion which had two aspects. Firstly, the difference between the functional values on the endpoints of the interval need to be within the tolerance range. Secondly, the difference between the center of the interval and the average value of the endpoints needs to be within the interval. See below for the stopping function
$$ while\; abs(f(a)-f(b)) > tol\; \&\&\;abs(f((a+b)/2)-(f(a)+f(b))/2) > tol$$

\subsection{Penalty function}
The stopping criterion used in the outer loop is instead to stop when either the difference between the found points are within the tolerance region or the difference between the functional values for subsequent points is small enough. We chose to do use either of the two differences since we mostly will stop when the difference between the functional values is small and only rarely need to look at the difference between the points. The difference between the points will be lower than the tolerance before the functional value only if we are trying to find a very narrow and steep peak. For the problems we have implemented we can only see a huge difference for the problem where we minimize $\min e^{x_1 x_2 x_3 x_4} $, where there is a factor of 10 times more iterations if both conditions needs to be met. For the other problems there is at most a difference of a couple iterations.